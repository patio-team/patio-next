"use client";

import { useState } from "react";
import { signIn } from "@/lib/auth-client";
import { useRouter } from "next/navigation";

export default function LoginPage() {
  const [isLoading, setIsLoading] = useState(false);
  const router = useRouter();

  const handleGoogleSignIn = async () => {
    try {
      setIsLoading(true);

      await signIn.social({
        provider: "google",
        callbackURL: "/",
      });

      // The redirect will happen automatically
    } catch (error) {
      console.error("Error signing in:", error);
      setIsLoading(false);
    }
  };

  return (
    <div className="min-h-screen bg-white flex flex-col lg:flex-row relative overflow-hidden">
      {/* Background decorative circles */}
      <div className="absolute inset-0 pointer-events-none z-0">
        <div className="absolute bottom-0 left-0 w-full overflow-hidden">
          <svg
            className="w-full max-w-[908px] h-auto opacity-50 lg:opacity-100"
            viewBox="0 0 908 153"
            fill="none"
          >
            <circle
              opacity="0.25"
              cx="494.5"
              cy="168.5"
              r="100.5"
              fill="#FFC952"
            />
            <circle
              opacity="0.25"
              cx="671.5"
              cy="48.5"
              r="48.5"
              fill="#98DDAB"
            />
            <circle
              opacity="0.25"
              cx="850.5"
              cy="130.5"
              r="57.5"
              fill="#3FE3D2"
            />
            <circle
              opacity="0.25"
              cx="250.5"
              cy="114.5"
              r="65.5"
              fill="#FF7473"
            />
            <circle opacity="0.25" cx="50" cy="138" r="50" fill="#FE346E" />
          </svg>
        </div>
      </div>

      {/* Close button */}
      <button className="absolute top-4 right-4 lg:top-14 lg:right-14 z-10 w-9 h-9 flex items-center justify-center hover:bg-gray-100 rounded-full transition-colors">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M18.7071 5.29289C19.0976 5.68342 19.0976 6.31658 18.7071 6.70711L6.70711 18.7071C6.31658 19.0976 5.68342 19.0976 5.29289 18.7071C4.90237 18.3166 4.90237 17.6834 5.29289 17.2929L17.2929 5.29289C17.6834 4.90237 18.3166 4.90237 18.7071 5.29289Z"
            fill="#25282B"
          />
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M5.29289 5.29289C5.68342 4.90237 6.31658 4.90237 6.70711 5.29289L18.7071 17.2929C19.0976 17.6834 19.0976 18.3166 18.7071 18.7071C18.3166 19.0976 17.6834 19.0976 17.2929 18.7071L5.29289 6.70711C4.90237 6.31658 4.90237 5.68342 5.29289 5.29289Z"
            fill="#25282B"
          />
        </svg>
      </button>

      {/* Left section - Branding (hidden on mobile, shows on tablet/desktop) */}
      <div className="hidden lg:flex flex-1 flex-col justify-center items-center px-8 py-12 xl:px-16 relative z-10">
        <div className="max-w-md w-full">
          {/* Logo */}
          <div className="mb-8 flex justify-center">
            <svg
              width="239"
              height="92"
              viewBox="0 0 239 92"
              fill="none"
              className="w-48 xl:w-60 h-auto"
            >
              <path
                d="M239 45.1699C239 50.4532 237.798 55.2082 235.392 59.4348C232.987 63.5954 229.68 66.8314 225.471 69.1428C221.328 71.4543 216.751 72.61 211.74 72.61C206.663 72.61 202.052 71.4543 197.91 69.1428C193.768 66.8314 190.494 63.5954 188.088 59.4348C185.683 55.2082 184.48 50.4532 184.48 45.1699C184.48 39.8867 185.683 35.1647 188.088 31.0042C190.494 26.7775 193.768 23.5085 197.91 21.1971C202.052 18.8196 206.663 17.6309 211.74 17.6309C216.751 17.6309 221.328 18.8196 225.471 21.1971C229.68 23.5085 232.987 26.7775 235.392 31.0042C237.798 35.1647 239 39.8867 239 45.1699ZM226.974 45.1699C226.974 41.9339 226.272 39.0612 224.869 36.5516C223.533 33.976 221.696 31.9948 219.357 30.6079C217.085 29.221 214.547 28.5276 211.74 28.5276C208.934 28.5276 206.362 29.221 204.023 30.6079C201.752 31.9948 199.914 33.976 198.511 36.5516C197.175 39.0612 196.507 41.9339 196.507 45.1699C196.507 48.406 197.175 51.2787 198.511 53.7883C199.914 56.2979 201.752 58.2461 204.023 59.6329C206.362 61.0198 208.934 61.7132 211.74 61.7132C214.547 61.7132 217.085 61.0198 219.357 59.6329C221.696 58.2461 223.533 56.2979 224.869 53.7883C226.272 51.2787 226.974 48.406 226.974 45.1699Z"
                fill="#3FE3D2"
              />
              <path
                d="M175.6 65.9261C175.6 67.6452 175.031 69.0998 173.894 70.29C172.757 71.414 171.319 71.9761 169.58 71.9761C167.841 71.9761 166.403 71.414 165.266 70.29C164.129 69.0998 163.561 67.6452 163.561 65.9261V23.6423C163.561 21.9232 164.129 20.5016 165.266 19.3776C166.403 18.1874 167.841 17.5923 169.58 17.5923C171.319 17.5923 172.757 18.1874 173.894 19.3776C175.031 20.5016 175.6 21.9232 175.6 23.6423V65.9261Z"
                fill="#98DDAB"
              />
              <path
                d="M163.567 6.51721C163.567 3.23067 166.262 0.566406 169.586 0.566406C172.911 0.566406 175.606 3.23067 175.606 6.51721V8.50081C175.606 11.7873 172.911 14.4516 169.586 14.4516C166.262 14.4516 163.567 11.7873 163.567 8.50081V6.51721Z"
                fill="#98DDAB"
              />
              <path
                d="M142.527 70.2939C143.663 69.1065 144.23 67.6552 144.23 65.94V29.9027L144.543 29.592H150.576C153.895 29.592 156.587 26.9339 156.587 23.655C156.587 20.376 153.895 17.7179 150.576 17.7179H144.365L144.23 17.4711V6.60242C144.23 4.88727 143.663 3.46897 142.527 2.34753C141.392 1.16011 139.956 0.566406 138.219 0.566406C136.483 0.566406 135.047 1.16011 133.911 2.34753C132.776 3.46897 132.208 4.88727 132.208 6.60242V17.4711L132.003 17.7179H125.195C121.875 17.7179 119.184 20.376 119.184 23.655C119.184 26.9339 121.875 29.592 125.195 29.592H131.864L132.208 29.8237V65.94C132.208 67.6552 132.776 69.1065 133.911 70.2939C135.047 71.4153 136.483 71.9761 138.219 71.9761C139.956 71.9761 141.392 71.4153 142.527 70.2939Z"
                fill="#FFC952"
              />
              <path
                d="M104.977 17.6309C106.7 17.6309 108.125 18.1922 109.251 19.3149C110.378 20.4376 110.941 21.8905 110.941 23.6736V65.5766C110.941 67.2937 110.378 68.7466 109.251 69.9353C108.125 71.058 106.7 71.6194 104.977 71.6194C103.254 71.6194 101.83 71.058 100.703 69.9353C99.6431 68.8126 99.0798 67.3927 99.0135 65.6757C97.357 67.5909 95.104 69.2419 92.2546 70.6287C89.4716 71.9496 86.5228 72.61 83.4084 72.61C78.8362 72.61 74.6947 71.4543 70.9839 69.1428C67.2731 66.7654 64.3244 63.4963 62.1377 59.3357C60.0173 55.1752 58.957 50.4532 58.957 45.1699C58.957 39.8867 60.0173 35.1647 62.1377 31.0042C64.2581 26.7775 67.1406 23.5085 70.7851 21.1971C74.4959 18.8196 78.5711 17.6309 83.0108 17.6309C86.1915 17.6309 89.1734 18.2252 91.9565 19.414C94.7395 20.5367 97.0919 21.9896 99.0135 23.7727V23.6736C99.0135 21.9565 99.5768 20.5367 100.703 19.414C101.83 18.2252 103.254 17.6309 104.977 17.6309ZM84.8993 61.7132C89.2065 61.7132 92.7185 60.1612 95.4353 57.0573C98.1521 53.8874 99.5105 49.9249 99.5105 45.1699C99.5105 40.415 98.1521 36.4525 95.4353 33.2826C92.7185 30.1126 89.2065 28.5276 84.8993 28.5276C80.6584 28.5276 77.1796 30.1126 74.4628 33.2826C71.746 36.4525 70.3876 40.415 70.3876 45.1699C70.3876 49.9249 71.7128 53.8874 74.3634 57.0573C77.0802 60.1612 80.5922 61.7132 84.8993 61.7132Z"
                fill="#FF7473"
              />
              <path
                d="M27.5327 17.6309C32.1049 17.6309 36.2464 18.8218 39.9571 21.2037C43.6679 23.5194 46.5835 26.7614 48.704 30.9297C50.8907 35.098 51.984 39.8286 51.984 45.1217C51.984 50.4147 50.9238 55.1785 48.8034 59.413C46.6829 63.5812 43.7673 66.8563 40.0565 69.2382C36.412 71.5539 32.3699 72.7118 27.9302 72.7118C24.7496 72.7118 21.7346 72.0832 18.8852 70.8261C16.1021 69.5029 13.7829 67.9149 11.9275 66.0624V85.5144C11.9275 87.2346 11.3643 88.6571 10.2378 89.7819C9.11129 90.9728 7.68661 91.5683 5.96375 91.5683C4.24089 91.5683 2.81622 91.0059 1.68973 89.8811C0.563242 88.7563 0 87.3008 0 85.5144V24.6772C0 22.957 0.563242 21.5345 1.68973 20.4097C2.81622 19.2188 4.24089 18.6233 5.96375 18.6233C7.68661 18.6233 9.11129 19.2188 10.2378 20.4097C11.3643 21.5345 11.9275 22.957 11.9275 24.6772V25.0742C13.5178 23.0893 15.7377 21.3691 18.587 19.9135C21.4364 18.3917 24.4183 17.6309 27.5327 17.6309ZM26.0417 61.7948C30.2826 61.7948 33.7615 60.2069 36.4783 57.0311C39.1951 53.8552 40.5535 49.8854 40.5535 45.1217C40.5535 40.3579 39.1951 36.4212 36.4783 33.3115C33.8277 30.1357 30.3489 28.5478 26.0417 28.5478C21.7346 28.5478 18.2226 30.1357 15.5058 33.3115C12.7889 36.4212 11.4305 40.3579 11.4305 45.1217C11.4305 49.8854 12.7889 53.8552 15.5058 57.0311C18.2226 60.2069 21.7346 61.7948 26.0417 61.7948Z"
                fill="#FE346E"
              />
            </svg>
          </div>

          {/* Tagline */}
          <p className="font-merriweather text-xl xl:text-2xl leading-relaxed text-center text-[#34314C] mb-8">
            The bottom-up temperature check tool made by teams for teams
          </p>

          {/* Illustration */}
          <div className="flex justify-center">
            <img
              src="https://cdn.builder.io/api/v1/image/assets/TEMP/0ef51c97091d20d2bb875a551b92e6ee5fc7d469?width=860"
              alt="Team collaboration illustration"
              className="w-full max-w-[350px] xl:max-w-[430px] h-auto rounded-[20px]"
            />
          </div>
        </div>
      </div>

      {/* Mobile logo (shows only on mobile) */}
      <div className="lg:hidden flex justify-center pt-16 pb-8 relative z-10">
        <svg
          width="239"
          height="92"
          viewBox="0 0 239 92"
          fill="none"
          className="w-40 h-auto"
        >
          <path
            d="M239 45.1699C239 50.4532 237.798 55.2082 235.392 59.4348C232.987 63.5954 229.68 66.8314 225.471 69.1428C221.328 71.4543 216.751 72.61 211.74 72.61C206.663 72.61 202.052 71.4543 197.91 69.1428C193.768 66.8314 190.494 63.5954 188.088 59.4348C185.683 55.2082 184.48 50.4532 184.48 45.1699C184.48 39.8867 185.683 35.1647 188.088 31.0042C190.494 26.7775 193.768 23.5085 197.91 21.1971C202.052 18.8196 206.663 17.6309 211.74 17.6309C216.751 17.6309 221.328 18.8196 225.471 21.1971C229.68 23.5085 232.987 26.7775 235.392 31.0042C237.798 35.1647 239 39.8867 239 45.1699ZM226.974 45.1699C226.974 41.9339 226.272 39.0612 224.869 36.5516C223.533 33.976 221.696 31.9948 219.357 30.6079C217.085 29.221 214.547 28.5276 211.74 28.5276C208.934 28.5276 206.362 29.221 204.023 30.6079C201.752 31.9948 199.914 33.976 198.511 36.5516C197.175 39.0612 196.507 41.9339 196.507 45.1699C196.507 48.406 197.175 51.2787 198.511 53.7883C199.914 56.2979 201.752 58.2461 204.023 59.6329C206.362 61.0198 208.934 61.7132 211.74 61.7132C214.547 61.7132 217.085 61.0198 219.357 59.6329C221.696 58.2461 223.533 56.2979 224.869 53.7883C226.272 51.2787 226.974 48.406 226.974 45.1699Z"
            fill="#3FE3D2"
          />
          <path
            d="M175.6 65.9261C175.6 67.6452 175.031 69.0998 173.894 70.29C172.757 71.414 171.319 71.9761 169.58 71.9761C167.841 71.9761 166.403 71.414 165.266 70.29C164.129 69.0998 163.561 67.6452 163.561 65.9261V23.6423C163.561 21.9232 164.129 20.5016 165.266 19.3776C166.403 18.1874 167.841 17.5923 169.58 17.5923C171.319 17.5923 172.757 18.1874 173.894 19.3776C175.031 20.5016 175.6 21.9232 175.6 23.6423V65.9261Z"
            fill="#98DDAB"
          />
          <path
            d="M163.567 6.51721C163.567 3.23067 166.262 0.566406 169.586 0.566406C172.911 0.566406 175.606 3.23067 175.606 6.51721V8.50081C175.606 11.7873 172.911 14.4516 169.586 14.4516C166.262 14.4516 163.567 11.7873 163.567 8.50081V6.51721Z"
            fill="#98DDAB"
          />
          <path
            d="M142.527 70.2939C143.663 69.1065 144.23 67.6552 144.23 65.94V29.9027L144.543 29.592H150.576C153.895 29.592 156.587 26.9339 156.587 23.655C156.587 20.376 153.895 17.7179 150.576 17.7179H144.365L144.23 17.4711V6.60242C144.23 4.88727 143.663 3.46897 142.527 2.34753C141.392 1.16011 139.956 0.566406 138.219 0.566406C136.483 0.566406 135.047 1.16011 133.911 2.34753C132.776 3.46897 132.208 4.88727 132.208 6.60242V17.4711L132.003 17.7179H125.195C121.875 17.7179 119.184 20.376 119.184 23.655C119.184 26.9339 121.875 29.592 125.195 29.592H131.864L132.208 29.8237V65.94C132.208 67.6552 132.776 69.1065 133.911 70.2939C135.047 71.4153 136.483 71.9761 138.219 71.9761C139.956 71.9761 141.392 71.4153 142.527 70.2939Z"
            fill="#FFC952"
          />
          <path
            d="M104.977 17.6309C106.7 17.6309 108.125 18.1922 109.251 19.3149C110.378 20.4376 110.941 21.8905 110.941 23.6736V65.5766C110.941 67.2937 110.378 68.7466 109.251 69.9353C108.125 71.058 106.7 71.6194 104.977 71.6194C103.254 71.6194 101.83 71.058 100.703 69.9353C99.6431 68.8126 99.0798 67.3927 99.0135 65.6757C97.357 67.5909 95.104 69.2419 92.2546 70.6287C89.4716 71.9496 86.5228 72.61 83.4084 72.61C78.8362 72.61 74.6947 71.4543 70.9839 69.1428C67.2731 66.7654 64.3244 63.4963 62.1377 59.3357C60.0173 55.1752 58.957 50.4532 58.957 45.1699C58.957 39.8867 60.0173 35.1647 62.1377 31.0042C64.2581 26.7775 67.1406 23.5085 70.7851 21.1971C74.4959 18.8196 78.5711 17.6309 83.0108 17.6309C86.1915 17.6309 89.1734 18.2252 91.9565 19.414C94.7395 20.5367 97.0919 21.9896 99.0135 23.7727V23.6736C99.0135 21.9565 99.5768 20.5367 100.703 19.414C101.83 18.2252 103.254 17.6309 104.977 17.6309ZM84.8993 61.7132C89.2065 61.7132 92.7185 60.1612 95.4353 57.0573C98.1521 53.8874 99.5105 49.9249 99.5105 45.1699C99.5105 40.415 98.1521 36.4525 95.4353 33.2826C92.7185 30.1126 89.2065 28.5276 84.8993 28.5276C80.6584 28.5276 77.1796 30.1126 74.4628 33.2826C71.746 36.4525 70.3876 40.415 70.3876 45.1699C70.3876 49.9249 71.7128 53.8874 74.3634 57.0573C77.0802 60.1612 80.5922 61.7132 84.8993 61.7132Z"
            fill="#FF7473"
          />
          <path
            d="M27.5327 17.6309C32.1049 17.6309 36.2464 18.8218 39.9571 21.2037C43.6679 23.5194 46.5835 26.7614 48.704 30.9297C50.8907 35.098 51.984 39.8286 51.984 45.1217C51.984 50.4147 50.9238 55.1785 48.8034 59.413C46.6829 63.5812 43.7673 66.8563 40.0565 69.2382C36.412 71.5539 32.3699 72.7118 27.9302 72.7118C24.7496 72.7118 21.7346 72.0832 18.8852 70.8261C16.1021 69.5029 13.7829 67.9149 11.9275 66.0624V85.5144C11.9275 87.2346 11.3643 88.6571 10.2378 89.7819C9.11129 90.9728 7.68661 91.5683 5.96375 91.5683C4.24089 91.5683 2.81622 91.0059 1.68973 89.8811C0.563242 88.7563 0 87.3008 0 85.5144V24.6772C0 22.957 0.563242 21.5345 1.68973 20.4097C2.81622 19.2188 4.24089 18.6233 5.96375 18.6233C7.68661 18.6233 9.11129 19.2188 10.2378 20.4097C11.3643 21.5345 11.9275 22.957 11.9275 24.6772V25.0742C13.5178 23.0893 15.7377 21.3691 18.587 19.9135C21.4364 18.3917 24.4183 17.6309 27.5327 17.6309ZM26.0417 61.7948C30.2826 61.7948 33.7615 60.2069 36.4783 57.0311C39.1951 53.8552 40.5535 49.8854 40.5535 45.1217C40.5535 40.3579 39.1951 36.4212 36.4783 33.3115C33.8277 30.1357 30.3489 28.5478 26.0417 28.5478C21.7346 28.5478 18.2226 30.1357 15.5058 33.3115C12.7889 36.4212 11.4305 40.3579 11.4305 45.1217C11.4305 49.8854 12.7889 53.8552 15.5058 57.0311C18.2226 60.2069 21.7346 61.7948 26.0417 61.7948Z"
            fill="#FE346E"
          />
        </svg>
      </div>

      {/* Right section - Login Form */}
      <div className="flex-1 flex flex-col justify-center items-center px-6 py-8 lg:px-8 lg:py-12 xl:px-16 relative z-10">
        <div className="w-full max-w-md">
          {/* Form Title */}
          <h1 className="font-merriweather text-2xl lg:text-[32px] lg:leading-[42px] text-[#34314C] mb-8 lg:mb-12 text-center">
            Sign in to patio
          </h1>

          {/* Google Sign In Button */}
          <button
            onClick={handleGoogleSignIn}
            disabled={isLoading}
            className="w-full max-w-[322px] mx-auto h-[39px] border border-[#C4C4C4] rounded bg-white flex items-center justify-center mb-6 hover:bg-gray-50 transition-colors relative disabled:opacity-50 disabled:cursor-not-allowed"
          >
            <svg
              className="absolute left-4 w-[18px] h-[18px]"
              viewBox="0 0 18 18"
              fill="none"
            >
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M17.64 9.20419C17.64 8.56601 17.5827 7.95237 17.4764 7.36328H9V10.8446H13.8436C13.635 11.9696 13.0009 12.9228 12.0477 13.561V15.8192H14.9564C16.6582 14.2524 17.64 11.9451 17.64 9.20419Z"
                fill="#4285F4"
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M8.99976 18C11.4298 18 13.467 17.1941 14.9561 15.8195L12.0475 13.5613C11.2416 14.1013 10.2107 14.4204 8.99976 14.4204C6.65567 14.4204 4.67158 12.8372 3.96385 10.71H0.957031V13.0418C2.43794 15.9831 5.48158 18 8.99976 18Z"
                fill="#34A853"
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M3.96409 10.7098C3.78409 10.1698 3.68182 9.59301 3.68182 8.99983C3.68182 8.40664 3.78409 7.82983 3.96409 7.28983V4.95801H0.957273C0.347727 6.17301 0 7.54755 0 8.99983C0 10.4521 0.347727 11.8266 0.957273 13.0416L3.96409 10.7098Z"
                fill="#FBBC05"
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M8.99976 3.57955C10.3211 3.57955 11.5075 4.03364 12.4402 4.92545L15.0216 2.34409C13.4629 0.891818 11.4257 0 8.99976 0C5.48158 0 2.43794 2.01682 0.957031 4.95818L3.96385 7.29C4.67158 5.16273 6.65567 3.57955 8.99976 3.57955Z"
                fill="#EA4335"
              />
            </svg>
            <span className="font-roboto text-[15px] text-[#333]">
              {isLoading ? "Signing in..." : "Sign up with Google"}
            </span>
          </button>
        </div>
      </div>
    </div>
  );
}
